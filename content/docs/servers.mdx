---
title: "HTTP Servers"
description: "Building web servers with Elide"
date: "2025-11-20"
---

# HTTP Servers

Build fast HTTP servers with Elide

This exercise is part of the Polyglot 101 intro guide.

Elide includes a built-in high-performance HTTP server that makes it easy to build web applications and APIs.

## Before you start

Before running the code below, you'll need to make sure the following is true:

- Elide is installed
- The `elide` binary is executable
- The `elide` binary is on your `PATH`, or otherwise referenced in absolute form

## Your First Server

Create a file named `server.js`:

```javascript
// server.js
const server = Elide.http

server.handle("GET", "/", (request, response) => {
  response.send(200, "Hello, World!")
})

console.log("Server running at http://localhost:8080")
```

Run it:

```bash
elide run server.js
```

Visit `http://localhost:8080` in your browser to see "Hello, World!"

## Handling Routes

Add more routes to handle different paths:

```javascript
// GET request
server.handle("GET", "/hello", (req, res) => {
  res.send(200, "Hello!")
})

// JSON response
server.handle("GET", "/api/users", (req, res) => {
  res.json({
    users: [
      { id: 1, name: 'Alice' },
      { id: 2, name: 'Bob' }
    ]
  })
})

// Route with parameter
server.handle("GET", "/users/:id", (req, res) => {
  const userId = req.params.id
  res.json({ userId, name: 'User ' + userId })
})
```

## Handling POST Requests

Receive and process data from clients:

```javascript
server.handle("POST", "/api/users", async (req, res) => {
  // Parse JSON body
  const body = await req.json()
  
  // Process the data
  console.log('Received:', body)
  
  // Send response
  res.json({
    success: true,
    user: body
  })
})
```

Test it with curl:

```bash
curl -X POST http://localhost:8080/api/users \
  -H "Content-Type: application/json" \
  -d '{"name":"Charlie","email":"charlie@example.com"}'
```

## Query Parameters

Access query parameters from the URL:

```javascript
server.handle("GET", "/search", (req, res) => {
  const query = req.query.q
  const limit = req.query.limit || 10
  
  res.json({
    query: query,
    limit: limit,
    results: []
  })
})
```

Visit: `http://localhost:8080/search?q=elide&limit=5`

## Serving HTML

Return HTML content:

```javascript
server.handle("GET", "/page", (req, res) => {
  res.html("<p>Welcome to Elide</p>")
})
```

## Error Handling

Handle errors gracefully:

```javascript
server.handle("GET", "/error", (req, res) => {
  try {
    // Some operation that might fail
    throw new Error('Something went wrong')
  } catch (error) {
    res.json({
      error: error.message
    }, 500)
  }
})
```

## Complete Example: Simple API

Here's a complete example of a basic REST API:

```javascript
// api-server.js
const server = Elide.http

// In-memory data store
const users = [
  { id: 1, name: 'Alice', email: 'alice@example.com' },
  { id: 2, name: 'Bob', email: 'bob@example.com' }
]

// List all users
server.handle("GET", "/api/users", (req, res) => {
  res.json(users)
})

// Get user by ID
server.handle("GET", "/api/users/:id", (req, res) => {
  const id = parseInt(req.params.id)
  const user = users.find(u => u.id === id)
  
  if (user) {
    res.json(user)
  } else {
    res.json({ error: 'User not found' }, 404)
  }
})

// Create new user
server.handle("POST", "/api/users", async (req, res) => {
  const body = await req.json()
  const newUser = {
    id: users.length + 1,
    name: body.name,
    email: body.email
  }
  users.push(newUser)
  res.json(newUser, 201)
})

console.log("API server running at http://localhost:8080")
```

## What you've learned

In this tutorial, you learned how to create HTTP servers with Elide, handle different routes and methods, work with request data, and build a simple REST API.

<div class="flex justify-start mt-12">
  <a href="/docs/interop.html" class="group inline-flex items-center gap-2 text-lg font-medium text-foreground hover:text-primary transition-colors" style="text-decoration: none;">
    <svg class="h-5 w-5 transition-transform duration-300 group-hover:-translate-x-1" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
      <path stroke-linecap="round" stroke-linejoin="round" d="M11 17l-5-5m0 0l5-5m-5 5h12" />
    </svg>
    <span>Previous: Interop</span>
  </a>
</div>
